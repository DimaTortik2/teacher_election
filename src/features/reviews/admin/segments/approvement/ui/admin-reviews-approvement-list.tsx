import { Review } from '@/entities/review'
import clsx from 'clsx'
import { useInView } from 'react-intersection-observer'
import { useSetAtom } from 'jotai'
import {
	currentApprovementAtom,
	isApprovementModalVisibleAtom,
} from '@/app/store/reviews-approvement.store'
import { ApprovementTools } from './approvement-tools'

interface IProps {
	className?: string
	isAdmin?: boolean
}

export function AdminReviewsApprovementList({ className }: IProps) {
	const [ref] = useInView()
	const setIsModalVisible = useSetAtom(isApprovementModalVisibleAtom)
	const setCurrentApprovement = useSetAtom(currentApprovementAtom)

	const textArr = [
		'Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ut consequuntur fugiat ipsum deserunt nostrum excepturi nobis minima sapiente! Illo, eaque tenetur, repellat rem amet debitis repellendus deserunt reiciendis nam eveniet cum! Culpa, beatae? Voluptatem fugiat magni eveniet ipsam excepturi odit eligendi dolor possimus nesciunt quos quod, numquam nisi aut illum distinctio quidem saepe eaque at dolorem omnis! Mollitia harum porro in, quae repellat quo atque rerum nobis, illo, quis voluptatum facere! Dolore, nulla quaerat. Facilis, ullam? Illo molestiae, quod quas consequuntur doloribus eligendi unde eaque culpa magnam nesciunt omnis optio est praesentium, laudantium molestias aliquid quibusdam voluptatem nostrum temporibus vel?Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ut consequuntur fugiat ipsum deserunt nostrum excepturi nobis minima sapiente! Illo, eaque tenetur, repellat rem amet debitis repellendus deserunt reiciendis nam eveniet cum! Culpa, beatae? Voluptatem fugiat magni eveniet ipsam excepturi odit eligendi dolor possimus nesciunt quos quod, numquam nisi aut illum distinctio quidem saepe eaque at dolorem omnis! Mollitia harum porro in, quae repellat quo atque rerum nobis, illo, quis voluptatum facere! Dolore, nulla quaerat. Facilis, ullam? Illo molestiae, quod quas consequuntur doloribus eligendi unde eaque culpa magnam nesciunt omnis optio est praesentium, laudantium molestias aliquid quibusdam voluptatem nostrum temporibus vel?Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ut consequuntur fugiat ipsum deserunt nostrum excepturi nobis minima sapiente! Illo, eaque tenetur, repellat rem amet debitis repellendus deserunt reiciendis nam eveniet cum! Culpa, beatae? Voluptatem fugiat magni eveniet ipsam excepturi odit eligendi dolor possimus nesciunt quos quod, numquam nisi aut illum distinctio quidem saepe eaque at dolorem omnis! Mollitia harum porro in, quae repellat quo atque rerum nobis, illo, quis voluptatum facere! Dolore, nulla quaerat. Facilis, ullam? Illo molestiae, quod quas consequuntur doloribus eligendi unde eaque culpa magnam nesciunt omnis optio est praesentium, laudantium molestias aliquid quibusdam voluptatem nostrum temporibus vel?Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ut consequuntur fugiat ipsum deserunt nostrum excepturi nobis minima sapiente! Illo, eaque tenetur, repellat rem amet debitis repellendus deserunt reiciendis nam eveniet cum! Culpa, beatae? Voluptatem fugiat magni eveniet ipsam excepturi odit eligendi dolor possimus nesciunt quos quod, numquam nisi aut illum distinctio quidem saepe eaque at dolorem omnis! Mollitia harum porro in, quae repellat quo atque rerum nobis, illo, quis voluptatum facere! Dolore, nulla quaerat. Facilis, ullam? Illo molestiae, quod quas consequuntur doloribus eligendi unde eaque culpa magnam nesciunt omnis optio est praesentium, laudantium molestias aliquid quibusdam voluptatem nostrum temporibus vel?Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ut consequuntur fugiat ipsum deserunt nostrum excepturi nobis minima sapiente! Illo, eaque tenetur, repellat rem amet debitis repellendus deserunt reiciendis nam eveniet cum! Culpa, beatae? Voluptatem fugiat magni eveniet ipsam excepturi odit eligendi dolor possimus nesciunt quos quod, numquam nisi aut illum distinctio quidem saepe eaque at dolorem omnis! Mollitia harum porro in, quae repellat quo atque rerum nobis, illo, quis voluptatum facere! Dolore, nulla quaerat. Facilis, ullam? Illo molestiae, quod quas consequuntur doloribus eligendi unde eaque culpa magnam nesciunt omnis optio est praesentium, laudantium molestias aliquid quibusdam voluptatem nostrum temporibus vel?Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ut consequuntur fugiat ipsum deserunt nostrum excepturi nobis minima sapiente! Illo, eaque tenetur, repellat rem amet debitis repellendus deserunt reiciendis nam eveniet cum! Culpa, beatae? Voluptatem fugiat magni eveniet ipsam excepturi odit eligendi dolor possimus nesciunt quos quod, numquam nisi aut illum distinctio quidem saepe eaque at dolorem omnis! Mollitia harum porro in, quae repellat quo atque rerum nobis, illo, quis voluptatum facere! Dolore, nulla quaerat. Facilis, ullam? Illo molestiae, quod quas consequuntur doloribus eligendi unde eaque culpa magnam nesciunt omnis optio est praesentium, laudantium molestias aliquid quibusdam voluptatem nostrum temporibus vel?',
		'Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ut consequuntur fugiat ipsum deserunt nostrum excepturi nobis minima sapiente! Illo, eaque tenetur, repellat rem amet debitis repellendus deserunt reiciendis nam eveniet cum! Culpa, beatae? Voluptatem fugiat magni eveniet ipsam excepturi odit eligendi dolor possimus nesciunt quos quod, numquam nisi aut illum distinctio quidem saepe eaque at dolorem omnis! Mollitia harum porro in, quae repellat quo atque rerum nobis, illo, quis voluptatum facere! Dolore, nulla quaerat. Facilis, ullam? Illo molestiae, quod quas consequuntur doloribus eligendi unde eaque culpa magnam nesciunt omnis optio est praesentium, laudantium molestias aliquid quibusdam voluptatem nostrum temporibus vel?Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ut consequuntur fugiat ipsum deserunt nostrum excepturi nobis minima sapiente! Illo, eaque tenetur, repellat rem amet debitis repellendus deserunt reiciendis nam eveniet cum! Culpa, beatae? Voluptatem fugiat magni eveniet ipsam excepturi odit eligendi dolor possimus nesciunt quos quod, numquam nisi aut illum distinctio quidem saepe eaque at dolorem omnis! Mollitia harum porro in, quae repellat quo atque rerum nobis, illo, quis voluptatum facere! Dolore, nulla quaerat. Facilis, ullam? Illo molestiae, quod quas consequuntur doloribus eligendi unde eaque culpa magnam nesciunt omnis optio est praesentium, laudantium molestias aliquid quibusdam voluptatem nostrum temporibus vel?Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ut consequuntur fugiat ipsum deserunt nostrum excepturi nobis minima sapiente! Illo, eaque tenetur, repellat rem amet debitis repellendus deserunt reiciendis nam eveniet cum! Culpa, beatae? Voluptatem fugiat magni eveniet ipsam excepturi odit eligendi dolor possimus nesciunt quos quod, numquam nisi aut illum distinctio quidem saepe eaque at dolorem omnis! Mollitia harum porro in, quae repellat quo atque rerum nobis, illo, quis voluptatum facere! Dolore, nulla quaerat. Facilis, ullam? Illo molestiae, quod quas consequuntur doloribus eligendi unde eaque culpa magnam nesciunt omnis optio est praesentium, laudantium molestias aliquid quibusdam voluptatem nostrum temporibus vel?Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ut consequuntur fugiat ipsum deserunt nostrum excepturi nobis minima sapiente! Illo, eaque tenetur, repellat rem amet debitis repellendus deserunt reiciendis nam eveniet cum! Culpa, beatae? Voluptatem fugiat magni eveniet ipsam excepturi odit eligendi dolor possimus nesciunt quos quod, numquam nisi aut illum distinctio quidem saepe eaque at dolorem omnis! Mollitia harum porro in, quae repellat quo atque rerum nobis, illo, quis voluptatum facere! Dolore, nulla quaerat. Facilis, ullam? Illo molestiae, quod quas consequuntur doloribus eligendi unde eaque culpa magnam nesciunt omnis optio est praesentium, laudantium molestias aliquid quibusdam voluptatem nostrum temporibus vel?Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ut consequuntur fugiat ipsum deserunt nostrum excepturi nobis minima sapiente! Illo, eaque tenetur, repellat rem amet debitis repellendus deserunt reiciendis nam eveniet cum! Culpa, beatae? Voluptatem fugiat magni eveniet ipsam excepturi odit eligendi dolor possimus nesciunt quos quod, numquam nisi aut illum distinctio quidem saepe eaque at dolorem omnis! Mollitia harum porro in, quae repellat quo atque rerum nobis, illo, quis voluptatum facere! Dolore, nulla quaerat. Facilis, ullam? Illo molestiae, quod quas consequuntur doloribus eligendi unde eaque culpa magnam nesciunt omnis optio est praesentium, laudantium molestias aliquid quibusdam voluptatem nostrum temporibus vel?Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ut consequuntur fugiat ipsum deserunt nostrum excepturi nobis minima sapiente! Illo, eaque tenetur, repellat rem amet debitis repellendus deserunt reiciendis nam eveniet cum! Culpa, beatae? Voluptatem fugiat magni eveniet ipsam excepturi odit eligendi dolor possimus nesciunt quos quod, numquam nisi aut illum distinctio quidem saepe eaque at dolorem omnis! Mollitia harum porro in, quae repellat quo atque rerum nobis, illo, quis voluptatum facere! Dolore, nulla quaerat. Facilis, ullam? Illo molestiae, quod quas consequuntur doloribus eligendi unde eaque culpa magnam nesciunt omnis optio est praesentium, laudantium molestias aliquid quibusdam voluptatem nostrum temporibus vel?',
		'Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ut consequuntur fugiat ipsum deserunt nostrum excepturi nobis minima sapiente! Illo, eaque tenetur, repellat rem amet debitis repellendus deserunt reiciendis nam eveniet cum! Culpa, beatae? Voluptatem fugiat magni eveniet ipsam excepturi odit eligendi dolor possimus nesciunt quos quod, numquam nisi aut illum distinctio quidem saepe eaque at dolorem omnis! Mollitia harum porro in, quae repellat quo atque rerum nobis, illo, quis voluptatum facere! Dolore, nulla quaerat. Facilis, ullam? Illo molestiae, quod quas consequuntur doloribus eligendi unde eaque culpa magnam nesciunt omnis optio est praesentium, laudantium molestias aliquid quibusdam voluptatem nostrum temporibus vel?Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ut consequuntur fugiat ipsum deserunt nostrum excepturi nobis minima sapiente! Illo, eaque tenetur, repellat rem amet debitis repellendus deserunt reiciendis nam eveniet cum! Culpa, beatae? Voluptatem fugiat magni eveniet ipsam excepturi odit eligendi dolor possimus nesciunt quos quod, numquam nisi aut illum distinctio quidem saepe eaque at dolorem omnis! Mollitia harum porro in, quae repellat quo atque rerum nobis, illo, quis voluptatum facere! Dolore, nulla quaerat. Facilis, ullam? Illo molestiae, quod quas consequuntur doloribus eligendi unde eaque culpa magnam nesciunt omnis optio est praesentium, laudantium molestias aliquid quibusdam voluptatem nostrum temporibus vel?Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ut consequuntur fugiat ipsum deserunt nostrum excepturi nobis minima sapiente! Illo, eaque tenetur, repellat rem amet debitis repellendus deserunt reiciendis nam eveniet cum! Culpa, beatae? Voluptatem fugiat magni eveniet ipsam excepturi odit eligendi dolor possimus nesciunt quos quod, numquam nisi aut illum distinctio quidem saepe eaque at dolorem omnis! Mollitia harum porro in, quae repellat quo atque rerum nobis, illo, quis voluptatum facere! Dolore, nulla quaerat. Facilis, ullam? Illo molestiae, quod quas consequuntur doloribus eligendi unde eaque culpa magnam nesciunt omnis optio est praesentium, laudantium molestias aliquid quibusdam voluptatem nostrum temporibus vel?Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ut consequuntur fugiat ipsum deserunt nostrum excepturi nobis minima sapiente! Illo, eaque tenetur, repellat rem amet debitis repellendus deserunt reiciendis nam eveniet cum! Culpa, beatae? Voluptatem fugiat magni eveniet ipsam excepturi odit eligendi dolor possimus nesciunt quos quod, numquam nisi aut illum distinctio quidem saepe eaque at dolorem omnis! Mollitia harum porro in, quae repellat quo atque rerum nobis, illo, quis voluptatum facere! Dolore, nulla quaerat. Facilis, ullam? Illo molestiae, quod quas consequuntur doloribus eligendi unde eaque culpa magnam nesciunt omnis optio est praesentium, laudantium molestias aliquid quibusdam voluptatem nostrum temporibus vel?Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ut consequuntur fugiat ipsum deserunt nostrum excepturi nobis minima sapiente! Illo, eaque tenetur, repellat rem amet debitis repellendus deserunt reiciendis nam eveniet cum! Culpa, beatae? Voluptatem fugiat magni eveniet ipsam excepturi odit eligendi dolor possimus nesciunt quos quod, numquam nisi aut illum distinctio quidem saepe eaque at dolorem omnis! Mollitia harum porro in, quae repellat quo atque rerum nobis, illo, quis voluptatum facere! Dolore, nulla quaerat. Facilis, ullam? Illo molestiae, quod quas consequuntur doloribus eligendi unde eaque culpa magnam nesciunt omnis optio est praesentium, laudantium molestias aliquid quibusdam voluptatem nostrum temporibus vel?Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ut consequuntur fugiat ipsum deserunt nostrum excepturi nobis minima sapiente! Illo, eaque tenetur, repellat rem amet debitis repellendus deserunt reiciendis nam eveniet cum! Culpa, beatae? Voluptatem fugiat magni eveniet ipsam excepturi odit eligendi dolor possimus nesciunt quos quod, numquam nisi aut illum distinctio quidem saepe eaque at dolorem omnis! Mollitia harum porro in, quae repellat quo atque rerum nobis, illo, quis voluptatum facere! Dolore, nulla quaerat. Facilis, ullam? Illo molestiae, quod quas consequuntur doloribus eligendi unde eaque culpa magnam nesciunt omnis optio est praesentium, laudantium molestias aliquid quibusdam voluptatem nostrum temporibus vel?',
		'quis voluptatum facere! Dolore, nulla quaerat. Facilis, ullam? Illo molestiae, quod quas consequuntur doloribus eligendi unde eaque culpa magnam nesciunt omnis optio est praesentium, laudantium molestias aliquid quibusdam voluptatem nostrum temporibus vel?Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ut consequuntur fugiat ipsum deserunt nostrum excepturi nobis minima sapiente! Illo, eaque tenetur, repellat rem amet debitis repellendus deserunt reiciendis nam eveniet cum! Culpa, beatae? Voluptatem fugiat magni eveniet ipsam excepturi odit eligendi dolor possimus nesciunt quos quod, numquam nisi aut illum distinctio quidem saepe eaque at dolorem omnis! Mollitia harum porro in, quae repellat quo atque rerum nobis, illo, quis voluptatum facere! Dolore, nulla quaerat. Facilis, ullam? Illo molestiae, quod quas consequuntur doloribus eligendi unde eaque culpa magnam nesciunt omnis optio est praesentium, laudantium molestias aliquid quibusdam voluptatem nostrum temporibus vel?Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ut consequuntur fugiat ipsum deserunt nostrum excepturi nobis minima sapiente! Illo, eaque tenetur, repellat rem amet debitis repellendus deserunt reiciendis nam eveniet cum! Culpa, beatae? Voluptatem fugiat magni eveniet ipsam excepturi odit eligendi dolor possimus nesciunt quos quod, numquam nisi aut illum distinctio quidem saepe eaque at dolorem omnis! Mollitia harum porro in, quae repellat quo atque rerum nobis, illo, quis voluptatum facere! Dolore, nulla quaerat. Facilis, ullam? Illo molestiae, quod quas consequuntur doloribus eligendi unde eaque culpa magnam nesciunt omnis optio est praesentium, laudantium molestias aliquid quibusdam voluptatem nostrum temporibus vel?Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ut consequuntur fugiat ipsum deserunt nostrum excepturi nobis minima sapiente! Illo, eaque tenetur, repellat rem amet debitis repellendus deserunt reiciendis nam eveniet cum! Culpa, beatae? Voluptatem fugiat magni eveniet ipsam excepturi odit eligendi dolor possimus nesciunt quos quod, numquam nisi aut illum distinctio quidem saepe eaque at dolorem omnis! Mollitia harum porro in, quae repellat quo atque rerum nobis, illo, quis voluptatum facere! Dolore, nulla quaerat. Facilis, ullam? Illo molestiae, quod quas consequuntur doloribus eligendi unde eaque culpa magnam nesciunt omnis optio est praesentium, laudantium molestias aliquid quibusdam voluptatem nostrum temporibus vel?',
	]

	const handleApproveClick = ({ id, text }: { id: string; text: string }) => {
		setCurrentApprovement({ id, text, type: 'approve' })
		setIsModalVisible(true)
	}

	const handleUnapproveClick = ({ id, text }: { id: string; text: string }) => {
		setCurrentApprovement({ id, text, type: 'unapprove' })
		setIsModalVisible(true)
	}

	return (
		<div
			className={clsx(
				'w-full h-full flex flex-col justify-start gap-6 py-2',
				className
			)}
		>
			{textArr.map(
				(
					el,
					i // надо вместо i класть айди коммента
				) => (
					<Review
						// onApproveClick={handleApproveClick}
						// onDenyClick={handleDenyClick}
						className='bg-zinc-700 '
						key={i}
						actions={
							<ApprovementTools
								onApprove={handleApproveClick}
								onDeny={handleUnapproveClick}
								ApprovementId={String(i)}
								text={el}
							/>
						}
						text={el}
					/>
				)
			)}
			<li ref={ref}>⠀</li>
		</div>
	)
}
